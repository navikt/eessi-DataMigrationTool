EESSI-RINA-DATA-MIGRATION

v2.1.0
--------------------------------------
Note: Entries marked with (*) are resolved in DMT. To consider these fully resolved, they need to be tested with the next public RINA release

Validator:
- (*) updated length constraints for audit event fields
- (*) removed null constraint for attachment filename
- normalized (stringified) the error details displayed in the case reports
- added the enum expected values for enum validation errors
- allow empty strings for the document conversation versionId
- removed non-null constraint for currentProcessDefinition (in user profile configuration)
- added tenantId in the case report filename
- updated validation of organisation address fields
- validation no longer requires connection to PostgreSQL
Importer:
- added new import endpoints: import-bulk, (re)import-case
- unified the way enum values are stored in SBDH
- fixed missing RECEIVE REPLY actions that affected viewing SEDs
- fixed organisations duplicate assigned BUCs, due to IR sync
- fixed missing information of the latest sent/received X001 document in case_prefill table after import
- notifications and notification alarms are treated as case-related resources
- removed requirement for running resetschema before DMT Import
- fixed processing null userId references
- updated mechanism for handling comments creator
- replace the value of cases_comment creator type from "ROLE_REGULAR" to "User" during import
- improved error handling
- improved reporting
- improved logging
Other:
- replaced mechanism of extracting actor roles mapping (connection to Bonita DB is required)
- fixed the ids of inactive organisations in Organisations.csv
- redirected STDERR to './logs/err.txt'

v2.0.2
--------------------------------------
Validator:
- accept creator ids -1 and "1" as valid values
- accept references to inactive organisations
Importer:
- fixed NPE related to documentBversions when mapping attachments
- fixed cases with DummyChooseParts document types (this was used to MLC cases)
- fixed missing SEDs creation date
- fixed missing user messages ack link
- fixed missing actions ADD/REMOVE ATTACHMENT
- fixed single array object problem in sed content
- fixed link between document conversations and document bversions
- extended functionality to add missing organisations from different source coming from CSN
- fixed parsing ProcessDefinitionAssignments that don't contain appRoles
- fixed audit created/updated document info while creating timed actions
- updated the algorithm for getting the last conversation date for timed actions
- fixed missing id for resources of type Activity
- fixed notification receiver organisation
- fixed notification creator user
- skip importing assigned BUCs linked to missing process definitions
- fixed importing users with missing salt/password
- fixed naming of SBDH fields (protectedPerson vs isProtectedPerson)
- fix caseId collision by updating case_id_seq on import

v2.0.1
--------------------------------------
Importer:
- fixed linux paths
- fixed users for Notifications
- fixed missing field from Action (templateVersion -> fixes the undefined template for a SED)
- fixed missing field in SubdocumentAttachment (pathname)
- fixed Subdocument: validationErrors is now correctly mapped
- fixed import of AuditEntries
- fixed medical flag in SBDH
- fixed retrieval of business exceptions
- improved logging

v2.0.0
--------------------------------------
Application bundles now the Validator and Importer

Importer:
- added import methods for all Elasticsearch resources
Validator:
- added validation for indices ADMIN, AUDIT, BUSINESSEXCEPTIONS, CHECKS, CONFIGURATIONS, GLOBALCONFIGURATIONS, NOTIFICATIONS, RESOURCES, VOCABULARIES
- added the case tenant in the case reports

v1.0.2
--------------------------------------
Fix for EESSI 7742: incorrect propagation of errors caused by unknown fields (fields that are not present in the aggregated Elasticsearch mapping),no other functionalities added or changed

v1.0.1
--------------------------------------
First release